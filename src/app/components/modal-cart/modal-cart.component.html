<div id="modal-content-wrapper">
  <header id="modal-header">
    <!-- <h1 id="modal-title">Cart Review</h1> -->
    <h1 class="d-flex justify-content-between align-items-center mb-3">
      <span class="text-muted">Cart Review</span>
      <span class="badge badge-secondary badge-pill">{{ totalProducts }}</span>
    </h1>
  </header>
  <section id="modal-body" [ngClass]="{ empty: totalProducts === 0 }">
    <div *ngIf="totalProducts > 0">
      <ul class="list-group">
        <li *ngFor="let recipent of cart | keyvalue" class="list-group-item">
          <app-modal-cart-item
            [purchase]="recipent.value"
            (changeCart)="onChangeCart($event)"
            (changeTotalProducts)="onChangeTotalProducts($event)"
            (changeTotalPurchase)="onChangeTotalPurchase($event)"
          ></app-modal-cart-item>
        </li>

        <li *ngIf="totalProducts > 0" class="list-group-item active">
          <strong>Total</strong>
          <label class="right">
            {{ totalPurchase | currency: 'USD' }}
          </label>
        </li>
      </ul>
    </div>
    <div *ngIf="totalProducts === 0">
      <h1 id="modal-title">Your Cart is Empty</h1>
    </div>
  </section>
  <br />
  <footer id="modal-footer">
    <button
      mat-raised-button
      id="modal-cancel-button"
      class="btn btn-outline-secondary"
      (click)="closeModal()"
    >
      Cancel
    </button>
    <button
      mat-raised-button
      id="modal-action-button"
      class="btn btn-primary"
      (click)="actionFunction()"
      [disabled]="totalProducts === 0"
    >
      Checkout
    </button>
  </footer>
</div>
